{{define "content"}}
<div class="card shadow-sm mb-3">
  <div class="card-body">
    <div class="d-flex align-items-center justify-content-between">
      <div>
        <div class="text-muted small">Snapshot</div>
        <div><code>{{.Snap}}</code></div>
        <div class="text-muted small">Pfad: <code>{{.Path}}</code></div>
      </div>
    </div>
  </div>
</div>

<table class="table table-hover">
  <thead>
    <tr><th>Name</th><th>Type</th><th class="right">Size</th><th class="right">Actions</th></tr>
  </thead>
  <tbody class="table-group-divider">
  {{if .ParentPath}}
    <tr>
      <td colspan="4">
        ğŸ“ <a href="/browse?snap={{.Snap}}&path={{.ParentPath}}">.. nach oben</a>
      </td>
    </tr>
  {{end}}
  {{range $index, $_ := .Entries}}
    <tr>
      <td>
        {{if eq .Type "dir"}}
          ğŸ“ <a href="/browse?snap={{$.Snap}}&path={{.Path}}/">{{basename .Path}}</a>
        {{else}}
          ğŸ“„ {{basename .Path}}
        {{end}}
      </td>
      <td class="muted">{{.Type}}</td>
      <td class="right muted">{{.Size}}</td>
      <td class="right">
        {{if eq $index 0}}
          <a class="btn btn-outline" href="/download-zip?snap={{$.Snap}}&path={{$.Path}}">Download folder as ZIP</a>
        {{end}}
        {{if ne .Type "dir"}}
          <a class="btn" href="/download?snap={{$.Snap}}&path={{.Path}}">Download</a>
        {{end}}
      </td>
    </tr>
    {{if eq $index 0}}
      <tr class="table-secondary"><td colspan="4"></td></tr>
    {{end}}
  {{end}}
  </tbody>
</table>
{{end}}

{{template "layout" .}}
